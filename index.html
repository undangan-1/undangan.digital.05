<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>undangan</title>
    <link rel="stylesheet" href="./style.css" />

    <!-- link normalize buat tidak berantakan-->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css"
    />

    <!-- font google -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Eczar:wght@400..800&family=Yellowtail&display=swap"
      rel="stylesheet"
    />

    <!-- bootstrap icon-->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />
  </head>
  <body>
    <div class="cover" id="cover">
      <img src="./img/cover.jpg" alt="Foto Undangan" />
      <div class="text-content">
        <h1>Undangan</h1>
        <h2>
          Bayuh Oton, <br />Menek Kelih,<br />
          Lan <br />
          Metatah
        </h2>
        <h3>Luh Weni Oktarini</h3>
        <p>Jumat, 11 Juli 2025</p>
        <p>Kepada Bapak/Ibu/Saudara/i <br /><span id="nama-tamu">Tamu</span></p>
        <br />
        <div>
          <a href="#" class="button" onclick="bukaUndangan()">
            <i class="bi bi-envelope"> Buka Undangan</i></a
          >
        </div>
      </div>
    </div>

    <!-- isi -->
    <!-- <div class="scroll-hidden"> -->
    <div id="undangan" class="isi scroll-hidden" style="display: none">
      <section>
        <div class="flower-container scroll-hidden">
          <img src="./img/latar/bunga-tanpa.png" alt="Bunga Dekoratif" />
        </div>
        <h2>Om Swastyastu</h2>
        <p>
          Atas Asung Kertha Wara Nugraha Ida Sang Hyang Widhi Wasa/Tuhan Yang
          Maha Esa kami bermaksud mengundang Bapak/Ibu/Saudara/i pada Upacara
          Manusa Yadnya Bayuh Otonan, Menek Kelih, Lan Metatah (Potong Gigi)
          Putri kami.
        </p>
        <h3>Luh Weni Oktarini</h3>
        <p>Putri Dari Pasangan</p>

        <h4>Nengah Suwariana & Luh Warna Aryati</h4>
      </section>

      <section>
        <div class="doa scroll-hidden">
          <div class="quote-box">
            <div class="sanskrit">
              Devan bhavayatanena te deva bhavayantu vah parasparam bhavayantah
              sreyah param avapsyatha
            </div>
            <div class="source">(Bhagavad Gita 3:11)</div>
            <div class="translation">
              Dengan ini (Yadnya), kami berbakti kepada Hyang Widhi dan dengan
              ini pula Hyang Widhi memelihara dan mengasihi kamu. <br />
              Dengan saling memelihara satu sama lain, kamu akan mencapai
              kebaikan yang maha tinggi.
            </div>
          </div>
        </div>
      </section>

      <section class="informasi scroll-hidden">
        <h2>Informasi Acara</h2>
        <div class="card-resepsi">
          <div class="card-header">WAKTU ACARA</div>
          <div class="card-body">
            <div class="card-item">
              <i class="bi bi-clock icon"></i>
              <div class="text">13.00 - 15.30 WITA</div>
            </div>
            <div class="card-item">
              <i class="bi bi-calendar-event icon"></i>
              <div class="text">Jumat, 11 Juli 2025</div>
            </div>
          </div>
          <div class="card-footer">
            Di harapkan untuk datang tepat waktu <br />
            (Waktu dan tempat terbatas)
          </div>
        </div>
        <div class="maps-container scroll-hidden">
          <h3>Lokasi Acara</h3>
          <div class="maps-responsive">
            <iframe
              src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3944.140331549614!2d115.2251066736548!3d-8.678202291369809!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2dd240f08b2e1db9%3A0xa375af741962e2e1!2sPadukuhan%20PAKU%20WANA!5e0!3m2!1sid!2sid!4v1744944703544!5m2!1sid!2sid"
              width="600"
              height="450"
              style="border: 0"
              allowfullscreen=""
              loading="lazy"
              referrerpolicy="no-referrer-when-downgrade"
            ></iframe>
          </div>
        </div>

        <div class="btn-maps-wrapper">
          <a
            href="https://maps.app.goo.gl/oA2HCFgMgkCn8XK88"
            target="_blank"
            class="btn-maps"
          >
            <i class="bi bi-geo-alt-fill"></i> Lihat Lokasi di Google Maps
          </a>
        </div>
      </section>

      <section>
        <div class="daun scroll-hidden">
          <img src="./img/latar/daun-tnpa.png" alt="Daun dekoratif" />
        </div>
      </section>

      <section>
        <div class="penutup scroll-hidden">
          <p>
            Merupakan suatu kebahagiaan dan kehormatan bagi kami apabila Bapak/
            Ibu/ Saudara/i berkenan hadir untuk memberikan doa restu.
          </p>
          <p>Atas kehadiran dan doa restunya kami ucapkan terimakasih</p>
          <h2>Om Shanti Shanti Shanti Om</h2>
          <h4>
            Kami yang berbahagia <br />
            Kel. Nengah Suwariana <br />& <br />
            Luh Warna Aryati
          </h4>
        </div>
      </section>

      <section>
        <div class="amplop scroll-hidden">
          <h2>Amplop Digital</h2>
          <p>
            Doa Restu Anda merupakan karunia yang sangat berarti bagi kami.<br />
            Dan jika memberi adalah ungkapan tanda kasih Anda, Anda dapat
            memberi kado cashless melalui transfer.
          </p>
          <button class="open-button" onclick="openModal()">
            <i class="bi bi-envelope-paper"> Kirim Amplop </i>
          </button>

          <div id="amplopModal" class="modal">
            <div class="modal-content">
              <span class="close" onclick="closeModal()">&times;</span>
              <p>Silahkan melakukan transfer ke rekening berikut:</p>

              <div class="bank-box">
                <img src="./img/bank/bca2.jpg" class="bank-logo" alt="BCA" />
                <div class="norek">767 0849362</div>
                <div>a/n Luh Weni Oktarini</div>
                <button class="copy-button" onclick="copyText('7670849362')">
                  COPY NO REKENING
                </button>
              </div>

              <div class="bank-box">
                <img src="./img/bank/bri2.jpg" class="bank-logo" alt="BRI" />
                <div class="norek">0970 01009719508</div>
                <div>a/n Luh Weni Oktarini</div>
                <button
                  class="copy-button"
                  onclick="copyText('097001009719508')"
                >
                  COPY NO REKENING
                </button>
              </div>
            </div>
          </div>
          <div class="end">
            <h2>Matur Suksma</h2>
          </div>
        </div>
      </section>

      <footer class="footer-undangan">
        <p>Terima kasih atas doa dan kehadiran Anda</p>
        <p>
          <i class="bi bi-instagram"></i>
          <a
            href="https://www.instagram.com/undangan.digital.05/"
            target="_blank"
            >@undangan.digital.05</a
          >
        </p>
      </footer>
    </div>
    <!-- </div> -->

    <!-- Audio Musik -->
    <audio id="audio" preload="auto" loop>
      <source src="./audio/audio-tanpa.mp3" type="audio/mpeg" />
    </audio>

    <!-- Tombol Musik -->
    <button class="music-btn" id="music-btn" onclick="toggleMusic()">
      <i id="music-icon" class="bi bi-pause-circle-fill"></i>
    </button>

    <script>
      // Ambil parameter dari URL
      const urlParams = new URLSearchParams(window.location.search);
      const namaTamu = urlParams.get("untuk");

      // Jika ada, ganti teksnya
      if (namaTamu) {
        document.getElementById("nama-tamu").textContent = decodeURIComponent(
          namaTamu.replace(/\+/g, " ")
        );
      }
    </script>

    <!-- css bootstrep -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>

    <script src="https://cdn.jsdelivr.net/npm/bs5-lightbox@1.8.3/dist/index.bundle.min.js"></script>

    <!-- scroll -->
    <script>
      function bukaUndangan() {
        const cover = document.getElementById("cover");
        const undangan = document.getElementById("undangan");

        // Sembunyikan cover
        cover.classList.add("hidden");

        // Tampilkan undangan
        undangan.style.display = "block";
        undangan.scrollIntoView({ behavior: "smooth" });

        sessionStorage.setItem("undanganDibuka", "true");
      }

      window.onload = function () {
        if (sessionStorage.getItem("undanganDibuka")) {
          document.getElementById("cover").classList.add("hidden");
          document.getElementById("undangan").style.display = "block";
          sessionStorage.removeItem("undanganDibuka");
        }
      };
    </script>

    <!-- amplop -->
    <script>
      function openModal() {
        document.getElementById("amplopModal").style.display = "block";
      }

      function closeModal() {
        document.getElementById("amplopModal").style.display = "none";
      }

      function copyText(text) {
        navigator.clipboard.writeText(text).then(() => {
          alert("Nomor rekening berhasil disalin!");
        });
      }

      window.onclick = function (event) {
        const modal = document.getElementById("amplopModal");
        if (event.target == modal) {
          modal.style.display = "none";
        }
      };
    </script>

    <!-- animasi scrol -->

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const observer = new IntersectionObserver(
          function (entries) {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                entry.target.classList.add("scroll-show");
                observer.unobserve(entry.target); // agar tidak diulang
              }
            });
          },
          {
            threshold: 0.1,
          }
        );

        const hiddenElements = document.querySelectorAll(".scroll-hidden");
        hiddenElements.forEach((el) => observer.observe(el));
      });
    </script>

    <!-- musik -->
    <script>
      const audio = document.getElementById("audio");
      const musicBtn = document.getElementById("music-btn");
      const musicIcon = document.getElementById("music-icon");

      function toggleMusic() {
        if (audio.paused) {
          audio.play();
          musicIcon.className = "bi bi-pause-circle-fill";
        } else {
          audio.pause();
          musicIcon.className = "bi bi-play-circle-fill";
        }
      }

      function bukaUndangan() {
        const cover = document.getElementById("cover");
        const undangan = document.getElementById("undangan");

        cover.classList.add("hidden");
        undangan.style.display = "block";
        undangan.scrollIntoView({ behavior: "smooth" });

        sessionStorage.setItem("undanganDibuka", "true");

        // Putar musik setelah interaksi user (klik tombol)
        audio
          .play()
          .then(() => {
            musicBtn.style.display = "block";
          })
          .catch((e) => {
            console.log("Autoplay diblokir. Klik ikon musik.");
            musicBtn.style.display = "block";
          });
      }

      // Sembunyikan cover
      cover.classList.add("hidden");

      window.onload = function () {
        if (sessionStorage.getItem("undanganDibuka")) {
          document.getElementById("cover").classList.add("hidden");
          document.getElementById("undangan").style.display = "block";
          musicBtn.style.display = "block";
          audio.play();
          sessionStorage.removeItem("undanganDibuka");
        }
      };
    </script>
  </body>
</html>
